<section
  class="w-full max-w-sm bg-white border border-gray-200 rounded-lg shadow dark:bg-gray-800 dark:border-gray-700">

  @if( userService.getterUser.type === 1){
  <div class="flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0">
    <div
      class="w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700">

      <div class="p-6 space-y-4 md:space-y-6 sm:p-8">
        <h2 class="text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white">Registrar historia clinica</h2>
        <form class="space-y-4 md:space-y-6" [formGroup]="registerPersonalDiagnosisForm" (ngSubmit)="handleSubmit()">
          <div>
            <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white" for="diagnosis">
              Diagnostico:

            </label>
            <input class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" id="diagnosis" type="text" formControlName="diagnosis" />
            @if (registerPersonalDiagnosisForm.controls['diagnosis'].errors) {
            <div class="mt-1 text-sm text-gray-500 dark:text-gray-300">Campo requerido</div>
            }
          </div>
          <div>
            <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"  for="cie10">
              Cie10:

            </label>
            <input class="bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500" id="cie10" type="text" formControlName="cie10" />

            @if (codeNotExist) {
            <div class="mt-1 text-sm text-gray-500 dark:text-gray-300">El código no existe.</div>
            } @if (registerPersonalDiagnosisForm.controls['cie10'].errors) {
            <div class="mt-1 text-sm text-gray-500 dark:text-gray-300">Campo requerido</div>
            }
          </div>

          <div>
            <label class="block mb-2 text-sm font-medium text-gray-900 dark:text-white"  for="patient">
              paciente:
            </label>
            <select class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"  name="patient" id="patient" formControlName="patient">
              <option value="" selected>Seleccione...</option>
              @for (item of patients; track $index) {
              <option value="{{ item.id }}">{{ item.name }}</option>
              }
            </select>
            @if (registerPersonalDiagnosisForm.controls['patient'].errors) {
              <div class="mt-1 text-sm text-gray-500 dark:text-gray-300">Campo requerido</div>
            }
          </div>

          <button class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800" type="submit" [disabled]="!registerPersonalDiagnosisForm.valid">
            Registrar
          </button>
        </form>
      </div>

    </div>

  </div>

  } @else {
  <div class="p-4">
    <h2 class="mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white">Historia clínica</h2>
    <div class="flex flex-col items-center pb-10">
      <img class="w-24 h-24 mb-3 rounded-full shadow-lg"
        src="https://images.unsplash.com/photo-1633332755192-727a05c4013d?q=80&w=1760&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
        alt="Bonnie image" />
      <h5 class="mb-1 text-xl font-medium text-gray-900 dark:text-white">{{
        this.registerPersonalDiagnosisForm.get("diagnosis")?.value }}</h5>
      <span class="text-sm text-gray-500 dark:text-gray-400">{{ this.registerPersonalDiagnosisForm.get("cie10")?.value
        }}</span>

    </div>
  </div>

  }
</section>